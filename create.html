<!DOCTYPE html>
<html>
<head>
  <script src="https://connect-cdn.atl-paas.net/all.js"></script>
</head>
<body>
  <h3>JQL each linked issue must match</h3>
  <input id="jql" style="width:95%" placeholder="e.g. project = SUP and statusCategory = Done">

  <script>
    AP.require(['jira'], function(jira){
      /* load prev config (edit) */
      jira.getWorkflowConfiguration(function(cfg){
        if (cfg && cfg.jql) document.getElementById('jql').value = cfg.jql;
      });

      /* save */
      jira.WorkflowConfiguration.onSave(function(){
        return JSON.stringify({ jql: document.getElementById('jql').value.trim() });
      });

      /* optional client-side validation */
      jira.WorkflowConfiguration.onSaveValidation(function(){
        return document.getElementById('jql').value.trim().length > 0;
      });
    });
  </script>
</body>
</html>